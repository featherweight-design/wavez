{"ast":null,"code":"import * as React from 'react';\nimport useLatest from '@react-hook/latest';\nvar perf = typeof performance !== 'undefined' ? performance : Date;\n\nvar now = function now() {\n  return perf.now();\n};\n\nexport function useThrottleCallback(callback) {\n  var fps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n  var leading = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var storedCallback = useLatest(callback);\n  var ms = 1000 / fps;\n  var prev = React.useRef(0);\n  var trailingTimeout = React.useRef();\n\n  var clearTrailing = function clearTrailing() {\n    return trailingTimeout.current && clearTimeout(trailingTimeout.current);\n  };\n\n  var deps = [fps, leading, storedCallback]; // Reset any time the deps change\n\n  function _ref() {\n    prev.current = 0;\n    clearTrailing();\n  }\n\n  React.useEffect(function () {\n    return _ref;\n  }, deps);\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    var args = arguments;\n    var rightNow = now();\n\n    var call = function call() {\n      prev.current = rightNow;\n      clearTrailing();\n      storedCallback.current.apply(null, args);\n    };\n\n    var current = prev.current; // leading\n\n    if (leading && current === 0) return call(); // body\n\n    if (rightNow - current > ms) {\n      if (current > 0) return call();\n      prev.current = rightNow;\n    } // trailing\n\n\n    clearTrailing();\n    trailingTimeout.current = setTimeout(function () {\n      call();\n      prev.current = 0;\n    }, ms);\n  }, deps);\n}\nexport function useThrottle(initialState, fps, leading) {\n  var state = React.useState(initialState);\n  return [state[0], useThrottleCallback(state[1], fps, leading)];\n}","map":{"version":3,"sources":["/Users/huey/Projects/personal-projects/wavez/node_modules/@react-hook/throttle/dist/module/index.js"],"names":["React","useLatest","perf","performance","Date","now","useThrottleCallback","callback","fps","leading","storedCallback","ms","prev","useRef","trailingTimeout","clearTrailing","current","clearTimeout","deps","_ref","useEffect","useCallback","args","arguments","rightNow","call","apply","setTimeout","useThrottle","initialState","state","useState"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,IAAMC,IAAI,GAAG,OAAOC,WAAP,KAAuB,WAAvB,GAAqCA,WAArC,GAAmDC,IAAhE;;AAEA,IAAMC,GAAG,GAAG,SAANA,GAAM;AAAA,SAAMH,IAAI,CAACG,GAAL,EAAN;AAAA,CAAZ;;AAEA,OAAO,SAASC,mBAAT,CAA6BC,QAA7B,EAAkE;AAAA,MAA3BC,GAA2B,uEAArB,EAAqB;AAAA,MAAjBC,OAAiB,uEAAP,KAAO;AACvE,MAAMC,cAAc,GAAGT,SAAS,CAACM,QAAD,CAAhC;AACA,MAAMI,EAAE,GAAG,OAAOH,GAAlB;AACA,MAAMI,IAAI,GAAGZ,KAAK,CAACa,MAAN,CAAa,CAAb,CAAb;AACA,MAAMC,eAAe,GAAGd,KAAK,CAACa,MAAN,EAAxB;;AAEA,MAAME,aAAa,GAAG,SAAhBA,aAAgB;AAAA,WAAMD,eAAe,CAACE,OAAhB,IAA2BC,YAAY,CAACH,eAAe,CAACE,OAAjB,CAA7C;AAAA,GAAtB;;AAEA,MAAME,IAAI,GAAG,CAACV,GAAD,EAAMC,OAAN,EAAeC,cAAf,CAAb,CARuE,CAQ1B;;AAE7C,WAASS,IAAT,GAAgB;AACdP,IAAAA,IAAI,CAACI,OAAL,GAAe,CAAf;AACAD,IAAAA,aAAa;AACd;;AAEDf,EAAAA,KAAK,CAACoB,SAAN,CAAgB;AAAA,WAAMD,IAAN;AAAA,GAAhB,EAA4BD,IAA5B;AACA,SAAOlB,KAAK,CAACqB,WAAN,CAAkB,YAAY;AACnC;AACA,QAAMC,IAAI,GAAGC,SAAb;AACA,QAAMC,QAAQ,GAAGnB,GAAG,EAApB;;AAEA,QAAMoB,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjBb,MAAAA,IAAI,CAACI,OAAL,GAAeQ,QAAf;AACAT,MAAAA,aAAa;AACbL,MAAAA,cAAc,CAACM,OAAf,CAAuBU,KAAvB,CAA6B,IAA7B,EAAmCJ,IAAnC;AACD,KAJD;;AAMA,QAAMN,OAAO,GAAGJ,IAAI,CAACI,OAArB,CAXmC,CAWL;;AAE9B,QAAIP,OAAO,IAAIO,OAAO,KAAK,CAA3B,EAA8B,OAAOS,IAAI,EAAX,CAbK,CAaU;;AAE7C,QAAID,QAAQ,GAAGR,OAAX,GAAqBL,EAAzB,EAA6B;AAC3B,UAAIK,OAAO,GAAG,CAAd,EAAiB,OAAOS,IAAI,EAAX;AACjBb,MAAAA,IAAI,CAACI,OAAL,GAAeQ,QAAf;AACD,KAlBkC,CAkBjC;;;AAGFT,IAAAA,aAAa;AACbD,IAAAA,eAAe,CAACE,OAAhB,GAA0BW,UAAU,CAAC,YAAM;AACzCF,MAAAA,IAAI;AACJb,MAAAA,IAAI,CAACI,OAAL,GAAe,CAAf;AACD,KAHmC,EAGjCL,EAHiC,CAApC;AAID,GA1BM,EA0BJO,IA1BI,CAAP;AA2BD;AACD,OAAO,SAASU,WAAT,CAAqBC,YAArB,EAAmCrB,GAAnC,EAAwCC,OAAxC,EAAiD;AACtD,MAAMqB,KAAK,GAAG9B,KAAK,CAAC+B,QAAN,CAAeF,YAAf,CAAd;AACA,SAAO,CAACC,KAAK,CAAC,CAAD,CAAN,EAAWxB,mBAAmB,CAACwB,KAAK,CAAC,CAAD,CAAN,EAAWtB,GAAX,EAAgBC,OAAhB,CAA9B,CAAP;AACD","sourcesContent":["import * as React from 'react';\nimport useLatest from '@react-hook/latest';\nconst perf = typeof performance !== 'undefined' ? performance : Date;\n\nconst now = () => perf.now();\n\nexport function useThrottleCallback(callback, fps = 30, leading = false) {\n  const storedCallback = useLatest(callback);\n  const ms = 1000 / fps;\n  const prev = React.useRef(0);\n  const trailingTimeout = React.useRef();\n\n  const clearTrailing = () => trailingTimeout.current && clearTimeout(trailingTimeout.current);\n\n  const deps = [fps, leading, storedCallback]; // Reset any time the deps change\n\n  function _ref() {\n    prev.current = 0;\n    clearTrailing();\n  }\n\n  React.useEffect(() => _ref, deps);\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    const args = arguments;\n    const rightNow = now();\n\n    const call = () => {\n      prev.current = rightNow;\n      clearTrailing();\n      storedCallback.current.apply(null, args);\n    };\n\n    const current = prev.current; // leading\n\n    if (leading && current === 0) return call(); // body\n\n    if (rightNow - current > ms) {\n      if (current > 0) return call();\n      prev.current = rightNow;\n    } // trailing\n\n\n    clearTrailing();\n    trailingTimeout.current = setTimeout(() => {\n      call();\n      prev.current = 0;\n    }, ms);\n  }, deps);\n}\nexport function useThrottle(initialState, fps, leading) {\n  const state = React.useState(initialState);\n  return [state[0], useThrottleCallback(state[1], fps, leading)];\n}"]},"metadata":{},"sourceType":"module"}